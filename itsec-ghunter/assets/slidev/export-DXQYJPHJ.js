const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slidev/DrawingPreview-DCU174ym.js","assets/slidev/SlideWrapper-CR74hr5M.js","assets/modules/vue-4YDElC_Y.js","assets/index-LaYedAUX.js","assets/monaco/bundled-types-DCZjuyf_.js","assets/modules/file-saver-BzOOqXCn.js","assets/monaco/bundled-types-DGA6yAJr.css","assets/modules/shiki-Cbm3jude.js","assets/modules/shiki-Bxv373Z5.css","assets/index-CPm5pK0H.css","assets/slidev/context-DimT5_KL.js","assets/slidev/title-renderer.md_vue_type_script_setup_true_lang-CUrD1hR2.js","assets/SlideWrapper-D6dPD96t.css","assets/pptxgen.es-v--WfzpA.js"])))=>i.map(i=>d[i]);
import{j as ke,h as he,i as we,d as T,e as F,_ as q,a as y,f as ye,k as H}from"../monaco/bundled-types-DCZjuyf_.js";import{d as B,ae as Ce,b as U,w as D,I as R,X as a,o,g as t,ad as f,ah as C,ao as _e,z as _,U as Se,ap as K,T as Ve,al as Y,f as v,k as Pe,e as d,i as N,n as re,F as L,am as J,aj as Q,aq as ae,r as P,a4 as $e,E as De,ar as Ee,t as Ie,W as Te,as as Re,a as Le,ai as X}from"../modules/vue-4YDElC_Y.js";import{k as E,_ as Z,l as Ue,m as Ne,n as je,a as ue,c as ne,C as Me,o as oe,u as ze,q as Fe,r as $,t as Be,v as Ae}from"../index-LaYedAUX.js";import{_ as We,a as Ge}from"./play.vue_vue_type_script_setup_true_lang-8E_BZubo.js";import{e as I,_ as Oe,f as He}from"./shortcuts-0cJ8rtvc.js";import{G as Xe,S as qe,d as Ke,i as se,s as Ye}from"./SlideWrapper-CR74hr5M.js";import"../modules/file-saver-BzOOqXCn.js";import"../modules/shiki-Cbm3jude.js";import"../modules/unplugin-icons-DFfYH5Cw.js";import"./title-renderer.md_vue_type_script_setup_true_lang-CUrD1hR2.js";import"./context-DimT5_KL.js";import"./IconButton.vue_vue_type_script_setup_true_lang-DONFiaLe.js";function Je(){return{isColorSchemaConfigured:we,isDark:he,toggleDark:ke}}const Qe={class:"form-check op-70"},Ze={class:"flex my-1"},et=B({__name:"ExportPdfTip",props:{modelValue:{default:!1}},emits:["update:modelValue","print"],setup(k,{emit:s}){const r=k,i=s,x=Ce(r,"modelValue",i);function g(){x.value=!1,i("print")}return(A,l)=>(o(),U(We,{modelValue:a(x),"onUpdate:modelValue":l[3]||(l[3]=b=>R(x)?x.value=b:null),class:"px-6 py-4 flex flex-col gap-2"},{default:D(()=>[l[10]||(l[10]=t("div",{class:"flex gap-2 text-xl"},[t("div",{class:"i-carbon:information my-auto"}),f(" Tips ")],-1)),t("div",null,[l[4]||(l[4]=f(" Slidev will open your browser's built-in print dialog to export the slides as PDF. ")),l[5]||(l[5]=t("br",null,null,-1)),l[6]||(l[6]=f(" In the print dialog, please: ")),l[7]||(l[7]=t("ul",{class:"list-disc my-4 pl-4"},[t("li",null,[f(' Choose "Save as PDF" as the Destination. '),t("span",{class:"op-70 text-xs"},' (Not "Microsoft Print to PDF") ')]),t("li",null,' Choose "Default" as the Margin. '),t("li",null,' Toggle on "Print backgrounds". ')],-1)),l[8]||(l[8]=t("div",{class:"mb-2 op-70 text-sm"},[f(" If you're encountering problems, please try "),t("a",{href:"https://sli.dev/builtin/cli#export"}," the CLI "),f(" or "),t("a",{href:"https://github.com/slidevjs/slidev/issues/new"}," open an issue"),f(". ")],-1)),t("div",Qe,[C(t("input",{"onUpdate:modelValue":l[0]||(l[0]=b=>R(E)?E.value=b:null),name:"record-camera",type:"checkbox"},null,512),[[_e,a(E)]]),t("label",{for:"record-camera",onClick:l[1]||(l[1]=b=>E.value=!a(E))},"Don't show this dialog next time.")])]),t("div",Ze,[t("button",{class:"cancel",onClick:l[2]||(l[2]=b=>x.value=!1)}," Cancel "),l[9]||(l[9]=t("div",{class:"flex-auto"},null,-1)),t("button",{onClick:g}," Start ")])]),_:1},8,["modelValue"]))}}),tt=Z(et,[["__scopeId","data-v-c53c193f"]]),lt=["id"],at=B({__name:"PrintSlideClick",props:{nav:{}},setup(k){const s=_(()=>k.nav.currentSlideRoute.value),r=_(()=>({height:`${F.value}px`,width:`${T.value}px`})),i=Se();q(()=>import("./DrawingPreview-DCU174ym.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(g=>i.value=g.default);const x=_(()=>`${s.value.no.toString().padStart(3,"0")}-${(k.nav.clicks.value+1).toString().padStart(2,"0")}`);return K(Ue,Ve({nav:k.nav,configs:y,themeConfigs:_(()=>y.themeConfig)})),K(Ne,Y("slide-element")),(g,A)=>(o(),v("div",{id:x.value,ref:"slide-element",class:"print-slide-container",style:Pe(r.value)},[d(a(Xe)),d(qe,{"clicks-context":g.nav.clicksContext.value,class:re(a(je)(s.value)),route:s.value},null,8,["clicks-context","class","route"]),i.value?(o(),U(a(i),{key:0,page:s.value.no},null,8,["page"])):N("v-if",!0),d(a(Ke))],12,lt))}}),ie=Z(at,[["__scopeId","data-v-e6229f86"]]),nt=B({__name:"PrintSlide",props:{hidden:{type:Boolean},route:{}},setup(k){const{isPrintWithClicks:s}=ue(),r=ne(k.route,()=>s.value?0:Me);return(i,x)=>(o(),v(L,null,[C(d(ie,{nav:a(oe)(i.route,a(r))},null,8,["nav"]),[[J,!i.hidden]]),a(s)?(o(),v(L,{key:0},[N(`
      clicks0.total can be any number >=0 when rendering.
      So total-clicksStart can be negative in intermediate states.
    `),(o(!0),v(L,null,Q(Math.max(0,a(r).total-a(r).clicksStart),g=>C((o(),U(ie,{key:g,nav:a(oe)(i.route,a(ne)(i.route,g+a(r).clicksStart))},null,8,["nav"])),[[J,!i.hidden]])),128))],64)):N("v-if",!0)],64))}}),ot={key:1,class:"fixed inset-0 flex flex-col md:flex-row md:gap-8 print:position-unset print:inset-0 print:block print:min-h-max justify-center of-hidden bg-main"},st={class:"print:hidden min-w-fit flex flex-wrap md:flex-nowrap md:of-y-auto md:flex-col gap-2 p-6 max-w-100"},it={class:"text-3xl md:my-4 flex items-center gap-2 w-full"},rt={flex:"~ col gap-2"},ut=["placeholder"],dt={class:"min-w-fit",flex:"~ col gap-3"},pt={key:0,class:"min-w-full w-0 text-orange/100 p-1 mb-2 bg-orange/10 rounded"},ct={class:"relative flex flex-col gap-2 flex-nowrap"},vt={class:"flex flex-col gap-2 min-w-max"},mt={id:"export-container",ref:"export-container",relative:""},ft={"print:hidden":"",fixed:"","right-5":"","bottom-5":"",px2:"",py0:"","z-label":"","slidev-glass-effect":""},xt={op75:""},gt={id:"export-content",ref:"export-content"},bt={key:0,id:"export-content-images",class:"print:hidden grid"},kt=["src"],ht=B({__name:"export",setup(k){Re(u=>({"0488ce7c":`scale(${M.value})`,"393d32b5":me.value}));const{slides:s,isPrintWithClicks:r,hasNext:i,go:x,next:g,currentSlideNo:A,clicks:l,printRange:b}=ue(),de=Te(),{isColorSchemaConfigured:pe,isDark:j}=Je(),{width:ce}=ae(Y("export-container")),{height:ve}=ae(Y("export-content")),M=_(()=>ce.value/T.value),me=_(()=>`${ve.value*(M.value-1)}px`),z=P(""),fe=P(1e3),m=P(null),p=P(null),S=P(y.exportFilename||ye);ze({title:S}),K(Be,M);const W=P(!1);function xe(){E.value?ee():W.value=!0}function ee(){Fe(),setTimeout(window.print,100)}async function G(){if(m.value&&(m.value.dispose(),m.value=null),p.value)return p.value;try{m.value=await Ye(T.value*2,F.value*2);const e=[];for(x(1,0,!0),await H(fe.value+$.value);m.value;)if(e.push({slideIndex:A.value-1,clickIndex:l.value,dataUrl:m.value.screenshot(document.getElementById("slide-content"))}),i.value)await H($.value),g(),await H($.value);else break;m.value&&(m.value.dispose(),p.value=e,m.value=null)}catch(u){console.error(u),p.value=null}finally{de.push("/export")}return p.value}async function ge(){const u=await G();if(!u)return;const e=await q(()=>import("../pptxgen.es-v--WfzpA.js"),__vite__mapDeps([13,5,4,2,6])).then(w=>w.default).then(w=>new w),V=`${T.value}x${F.value}`;e.defineLayout({name:V,width:T.value/96,height:F.value/96}),e.layout=V,y.author&&(e.author=y.author),e.company="Created using Slidev",e.title=S.value,typeof y.info=="string"&&(e.subject=y.info),u.forEach(({slideIndex:w,dataUrl:O})=>{const te=e.addSlide();te.background={data:O};const le=s.value[w].meta.slide.note;le&&te.addNotes(le)});const h=await e.write({outputType:"blob",compression:!0}),n=URL.createObjectURL(h),c=document.createElement("a");c.href=n,c.download=`${S.value}.pptx`,c.click()}async function be(){const u=await G();if(!u)return;const{createTarGzip:e}=await q(async()=>{const{createTarGzip:c}=await import("../index-Dal08D7e.js");return{createTarGzip:c}},[]),V=await e(u.map(({slideIndex:c,dataUrl:w})=>({name:`${c}.png`,data:new Uint8Array(atob(w.split(",")[1]).split("").map(O=>O.charCodeAt(0)))}))),h=document.createElement("a"),n=new Blob([V],{type:"application/gzip"});h.href=URL.createObjectURL(n),h.download=`${S.value}.tar.gz`,h.click()}return $e(_(()=>{var u;return(u=m.value)!=null&&u.isActive?`
html {
  cursor: none;
  margin-bottom: 20px;
}
body {
  pointer-events: none;
}`:`
:root {
  --slidev-slide-scale: ${M.value};
}
`})),De([j,b,r],()=>p.value=null),Ee([s,z],()=>b.value=Ae(s.value.length,z.value),{debounce:300}),(u,e)=>{var h;const V=Le("RouterLink");return(h=m.value)!=null&&h.isActive?(o(),U(Ge,{key:0})):(o(),v("div",ot,[t("div",st,[t("h1",it,[d(V,{to:"/",class:"i-carbon:previous-outline op-70 hover:op-100"}),e[7]||(e[7]=f(" Browser Exporter ")),e[8]||(e[8]=t("sup",{op50:"",italic:"","text-sm":""},"Experimental",-1))]),t("div",rt,[e[9]||(e[9]=t("h2",null,"Options",-1)),d(I,{title:"Title"},{default:D(()=>[C(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>S.value=n),type:"text"},null,512),[[X,S.value]])]),_:1}),d(I,{title:"Range"},{default:D(()=>[C(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>z.value=n),type:"text",placeholder:`1-${a(s).length}`},null,8,ut),[[X,z.value]])]),_:1}),d(I,{title:"Color Mode"},{default:D(()=>[d(Oe,{modelValue:a(j),"onUpdate:modelValue":e[2]||(e[2]=n=>R(j)?j.value=n:null),options:[{value:!1,label:"Light"},{value:!0,label:"Dark"}],disabled:a(pe)},null,8,["modelValue","disabled"])]),_:1}),d(I,{title:"With clicks"},{default:D(()=>[d(He,{modelValue:a(r),"onUpdate:modelValue":e[3]||(e[3]=n=>R(r)?r.value=n:null)},null,8,["modelValue"])]),_:1})]),e[16]||(e[16]=t("div",{class:"flex-grow"},null,-1)),t("div",dt,[t("div",{border:"~ main rounded-lg",p3:"",flex:"~ col gap-2"},[e[10]||(e[10]=t("h2",null,"Export as Vector File",-1)),t("div",{class:"flex flex-col gap-2 min-w-max"},[t("button",{class:"slidev-form-button",onClick:xe}," PDF ")])]),t("div",{border:"~ main rounded-lg",p3:"",flex:"~ col gap-2",class:re(a(se)?"":"border-orange")},[e[14]||(e[14]=t("h2",null,"Export as Images",-1)),a(se)?N("v-if",!0):(o(),v("div",pt,e[11]||(e[11]=[t("span",{class:"i-carbon:warning-alt inline-block mb--.5"},null,-1),f(" Your browser may not support image capturing. If you encounter issues, please use a modern Chromium-based browser, or export via the CLI. ")]))),t("div",{class:"flex flex-col gap-2 min-w-max"},[t("button",{class:"slidev-form-button",onClick:ge}," PPTX "),t("button",{class:"slidev-form-button",onClick:be}," PNGs.gz ")]),e[15]||(e[15]=t("div",{"w-full":"","h-1px":"",border:"t main",my2:""},null,-1)),t("div",ct,[t("div",vt,[p.value?(o(),v("button",{key:0,class:"slidev-form-button flex justify-center items-center gap-2",onClick:e[4]||(e[4]=n=>p.value=null)},e[12]||(e[12]=[t("span",{class:"i-carbon:trash-can inline-block text-xl"},null,-1),f(" Clear Captured Images ")]))):(o(),v("button",{key:1,class:"slidev-form-button flex justify-center items-center gap-2",onClick:G},e[13]||(e[13]=[t("div",{class:"i-carbon:drop-photo inline-block text-xl"},null,-1),f(" Pre-capture slides as Images ")]))),d(I,{title:"Delay",description:"Delay between capturing each slide in milliseconds.<br>Increase this value if slides are captured incompletely. <br>(Not related to PDF export)"},{default:D(()=>[C(t("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>R($)?$.value=n:null),type:"number",step:"50",min:"50"},null,512),[[X,a($)]])]),_:1})])])],2)])]),t("div",mt,[t("div",ft,[t("span",xt,"Rendering as "+Ie(p.value?"Captured Images":"DOM"),1)]),C(t("div",gt,[(o(!0),v(L,null,Q(a(s),(n,c)=>(o(),U(nt,{key:c,hidden:!a(b).includes(c+1),route:n},null,8,["hidden","route"]))),128))],512),[[J,!p.value]]),p.value?(o(),v("div",bt,[(o(!0),v(L,null,Q(p.value,(n,c)=>(o(),v("div",{key:c,class:"print-slide-container"},[t("img",{src:n.dataUrl},null,8,kt)]))),128))])):N("v-if",!0)],512),e[17]||(e[17]=t("div",{id:"twoslash-container"},null,-1)),d(tt,{modelValue:W.value,"onUpdate:modelValue":e[6]||(e[6]=n=>W.value=n),onPrint:ee},null,8,["modelValue"])]))}}}),Rt=Z(ht,[["__scopeId","data-v-4c2cc7c6"]]);export{Rt as default};
