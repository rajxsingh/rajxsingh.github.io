import{d as w,r as x,aa as D,f as p,o as c,g as s,i as C,m as h,S as l,K as W,N as $,z as u,b as B}from"../modules/vue-BS18vBqD.js";import{as as A,at as O}from"../index-Bo1x698D.js";const _=["width","height"],M=["id"],N=["fill"],S=["id"],V=["fill"],E=["x1","y1","x2","y2","stroke","stroke-width","marker-end","marker-start"],I=["x1","y1","x2","y2"],U=w({__name:"Arrow",props:{x1:{},y1:{},x2:{},y2:{},width:{},color:{},twoWay:{type:Boolean}},emits:["dblclick","clickOutside"],setup(k,{emit:r}){const t=r,n=A(),i={markerUnits:"strokeWidth",markerHeight:7,refY:3.5,orient:"auto"},d=x();return D(d,()=>t("clickOutside")),(e,o)=>(c(),p("svg",{class:"absolute left-0 top-0",width:Math.max(+e.x1,+e.x2)+50,height:Math.max(+e.y1,+e.y2)+50},[s("defs",null,[s("marker",h({id:l(n),markerWidth:"10",refX:"9"},i),[s("polygon",{points:"0 0, 10 3.5, 0 7",fill:e.color||"currentColor",onDblclick:o[0]||(o[0]=a=>t("dblclick"))},null,40,N)],16,M),e.twoWay?(c(),p("marker",h({key:0,id:`${l(n)}-rev`,markerWidth:"20",refX:"11"},i),[s("polygon",{points:"20 0, 10 3.5, 20 7",fill:e.color||"currentColor",onDblclick:o[1]||(o[1]=a=>t("dblclick"))},null,40,V)],16,S)):C("v-if",!0)]),s("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:e.color||"currentColor","stroke-width":e.width||2,"marker-end":`url(#${l(n)})`,"marker-start":e.twoWay?`url(#${l(n)}-rev)`:"none",onDblclick:o[2]||(o[2]=a=>t("dblclick"))},null,40,E),s("line",{ref_key:"clickArea",ref:d,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"transparent","stroke-linecap":"round","stroke-width":20,onDblclick:o[3]||(o[3]=a=>t("dblclick"))},null,40,I)],8,_))}}),P=w({__name:"VDragArrow",props:{pos:{},markdownSource:{},width:{},color:{},twoWay:{type:Boolean}},setup(k){const r=k,{dragId:t,mounted:n,unmounted:i,startDragging:d,stopDragging:e,x0:o,y0:a,width:m,height:y}=O(null,r.pos??"100,100,300,300",r.markdownSource,!0);W(n),$(i);const f=u(()=>o.value-m.value/2),g=u(()=>a.value-y.value/2),v=u(()=>o.value+m.value/2),b=u(()=>a.value+y.value/2);return(X,z)=>(c(),B(U,{x1:f.value,y1:g.value,x2:v.value,y2:b.value,"data-drag-id":l(t),width:r.width,color:r.color,"two-way":r.twoWay,onDblclick:l(d),onClickOutside:l(e)},null,8,["x1","y1","x2","y2","data-drag-id","width","color","two-way","onDblclick","onClickOutside"]))}});export{P as _};
